<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><title>小下同学 - 找不到北，就多看东西</title><meta name="author" content="安小下同学"><meta name="copyright" content="安小下同学"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta property="og:type" content="website">
<meta property="og:title" content="小下同学">
<meta property="og:url" content="https://blog.linganmin.cn/page/2/index.html">
<meta property="og:site_name" content="小下同学">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://graph.linganmin.cn/200118/06177d8b92c66f2c3a6fd82cca544f51">
<meta property="article:author" content="安小下同学">
<meta property="article:tag" content="安小下同学,闵令安,令安,小下,亲爱的安小下同学,小下同学,小小小下,前端,js,jquery,javascript,html5,开发者,程序猿,程序媛,极客,编程,代码,开源,IT网站,Developer,Programmer,Coder,Geek,html,css,css3,用户体验,php,laravel,golang,phper,docker">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://graph.linganmin.cn/200118/06177d8b92c66f2c3a6fd82cca544f51"><link rel="shortcut icon" href="https://graph.linganmin.cn/201206/fe9c5e8ef76354659ab9c6c8764d6f3d"><link rel="canonical" href="https://blog.linganmin.cn/page/2/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//hm.baidu.com"/><link rel="preconnect" href="//fonts.googleapis.com" crossorigin=""/><link rel="preconnect" href="//busuanzi.ibruce.info"/><meta name="baidu-site-verification" content="KrvBZb2kkH"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="/pluginsSrc/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="/pluginsSrc/@fancyapps/ui/dist/fancybox.css" media="print" onload="this.media='all'"><script>var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?b4e74da1cb3c8b4a65da55116b8cba6f";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Titillium+Web" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '天',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'mediumZoom',
  Snackbar: undefined,
  source: {
    justifiedGallery: {
      js: '/pluginsSrc/flickr-justified-gallery/dist/fjGallery.min.js',
      css: '/pluginsSrc/flickr-justified-gallery/dist/fjGallery.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: '小下同学',
  isPost: false,
  isHome: true,
  isHighlightShrink: false,
  isToc: false,
  postUpdate: '2023-07-24 09:22:53'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><meta name="generator" content="Hexo 6.3.0"></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="https://graph.linganmin.cn/200118/06177d8b92c66f2c3a6fd82cca544f51" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">41</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">41</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">9</div></a></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div></div></div></div><div class="page" id="body-wrap"><header class="full_page" id="page-header" style="background-image: url('https://graph.linganmin.cn/200120/81525dc7a1a92645199b36b2e20cc2c8?x-oss-process=image/format,webp/quality,q_40')"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">小下同学</a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="site-info"><h1 id="site-title">小下同学</h1><div id="site-subtitle"><span id="subtitle"></span></div><div id="site_social_icons"><a class="social-icon" href="https://github.com/linganmin" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="mailto:saboranmin@gmail.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a><a class="social-icon" href="https://www.weibo.com/u/1793963601" target="_blank" title="Weibo"><i class="fab fa-weibo"></i></a></div></div><div id="scroll-down"><i class="fas fa-angle-down scroll-down-effects"></i></div></header><main class="layout" id="content-inner"><div class="recent-posts" id="recent-posts"><div class="recent-post-item"><div class="post_cover left"><a href="/posts/d6715893/" title="浅读 Go 优秀开源项目源码—Gin框架"><img class="post_bg" src="https://graph.linganmin.cn/220306/e6d48282ac21a3cc02dd7b6a2b571e81?x-oss-process=image/format,webp/quality,q_60" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="浅读 Go 优秀开源项目源码—Gin框架"></a></div><div class="recent-post-info"><a class="article-title" href="/posts/d6715893/" title="浅读 Go 优秀开源项目源码—Gin框架">浅读 Go 优秀开源项目源码—Gin框架</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-03-06T14:30:20.000Z" title="发表于 2022-03-06 22:30:20">2022-03-06</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E5%A5%BD%E5%A5%BD%E5%AD%A6%E4%B9%A0/">好好学习</a></span></div><div class="content">
Gin 是一个用 Go (Golang) 编写的 HTTP web 框架。它是一个类似于 martini 但拥有更好性能的 API 框架, 由于 httprouter，速度提高了近 40 倍。

Gin 是目前 Go 里面使用最广泛的框架之一了，弄清楚 Gin 框架的原理，有助于我们更好的使用 Gin。通过浅读 Gin 框架源码，大致总结一下它的一些核心实现。
从一个 Demo 入手下面这段代码便是使用 Gin 编写一个简单的只有一个接口的 Go server 端程序，详细使用方式参考官方文档：Gin Web Frameword 
123456789101112131415161718192021222324252627package mainimport (    &quot;fmt&quot;    &quot;log&quot;    &quot;time&quot;    &quot;github.com/gin-gonic/gin&quot;)func main() &#123;    r := gin.Default()    // 注册路由    r.GET(&quot ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/posts/5dc89f0f/" title="基于 Consul 实现 gRPC 服务注册与发现"><img class="post_bg" src="https://graph.linganmin.cn/220219/f7972adc36f4c23da00f92f05b0b6be7?x-oss-process=image/format,webp/quality,q_10" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="基于 Consul 实现 gRPC 服务注册与发现"></a></div><div class="recent-post-info"><a class="article-title" href="/posts/5dc89f0f/" title="基于 Consul 实现 gRPC 服务注册与发现">基于 Consul 实现 gRPC 服务注册与发现</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-02-18T19:30:20.000Z" title="发表于 2022-02-19 03:30:20">2022-02-19</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E7%B3%BB%E7%BB%9F%E6%9E%B6%E6%9E%84/">系统架构</a></span></div><div class="content">什么是服务注册与发现，为什么需要服务注册发现
服务注册
服务进程在注册中心注册自己的元数据，一般包括 Host 和 Port，有时候还有身份验证信息，协议，版本号以及运行环境等信息。


服务发现
客户端进程向服务注册中心发起查询，来获取依赖的服务的信息，然后向其发送请求。服务发现一个重要的作用是提供给客户端进程一个可用的服务列表。



简单的说，当服务A需要依赖服务B时，服务发现中间件需要告诉服务A哪些地址是服务B的可用地址，这就是服务注册发现需要解决的问题。

服务注册
客户端注册
服务自身负责注册与注销工作，当服务启动后注册线程向注册中心注册，当服务停止时注销自己。


代理注册
当服务启动后以某种方式通知代理服务，代理服务向注册中心发起注册工作。



健康检测
被动检测
服务主动向注册中心发送心跳消息，时间间隔可以自定义。注册中心如果在指定周期内未收到服务节点的心跳消息，则将其从该服务可用节点列表中移除


主动检测
服务注册中心指定时间间隔内向所有列表中的服务节点发送心跳检测，如果指定周期内未成功则主动移除该节点。



服务发现
客户端发现
客户端向注册中心发起请求查询 ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/posts/342e7622/" title="使用 Opentracing 实现 Golang 链路追踪"><img class="post_bg" src="https://graph.linganmin.cn/220217/66b241b8bb939fb3fbac1dc2956f3114?x-oss-process=image/format,webp/quality,q_60" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="使用 Opentracing 实现 Golang 链路追踪"></a></div><div class="recent-post-info"><a class="article-title" href="/posts/342e7622/" title="使用 Opentracing 实现 Golang 链路追踪">使用 Opentracing 实现 Golang 链路追踪</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-02-17T14:40:34.000Z" title="发表于 2022-02-17 22:40:34">2022-02-17</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E5%A5%BD%E5%A5%BD%E5%AD%A6%E4%B9%A0/">好好学习</a></span></div><div class="content">为什么需要链路追踪在微服务架构系统中，请求在各服务之间流转，调用链路错综复杂，一旦出现了问题和异常，定位问题相当困难。链路追踪系统可以追踪并记录请求在系统中的调用顺序、调用时长等一系列关键信息，从而帮我们更简单的定位服务异常。
OpentracingOpentracing 是分布式链路追踪的一种规范标准，是 CNCF（云原生计算基金）孵化的项目之一。和一般规范标准不同，Opentracing 不是传输协议、也不是消息格式上的规范标准，而是一种语言层面上的 API 标准。只要在某链路追踪系统实现了 Opentracing 规定的接口，符合 Opentracing 定义的表现行为，那么就可以说该应用符合 Opentracing 标准。这意味着，开发者只需要修改少量的配置代码，就可以在符合 Opentracing 标准的链路追踪系统之间自由切换。
数据模型SpanSpan 是一条链路追踪的基本组成要素，一个 Span 表示一个独立的工作单元，比如一次函数调用，一次 RPC 请求，Span 会记录一些基本要素：

操作&#x2F;行为名称
开始时间
结束时间
Tags(一组零个或多个 key: ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/posts/f38f5faa/" title="「在一个内卷的时代，我们该如何谈论幸福」课堂笔记"><img class="post_bg" src="https://graph.linganmin.cn/210923/af9c4e0ac4793f542a6f50220a229be1?x-oss-process=image/format,webp/quality,q_10" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="「在一个内卷的时代，我们该如何谈论幸福」课堂笔记"></a></div><div class="recent-post-info"><a class="article-title" href="/posts/f38f5faa/" title="「在一个内卷的时代，我们该如何谈论幸福」课堂笔记">「在一个内卷的时代，我们该如何谈论幸福」课堂笔记</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2021-12-20T14:03:51.000Z" title="发表于 2021-12-20 22:03:51">2021-12-20</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/">读书笔记</a></span></div><div class="content">整堂课的“题”，老师整体上是基于罗曼罗兰的这句话展开的：

世界上只有一种真正的英雄主义，就是当你认清了生活的真相后，你仍然还热爱它。

为什么会内卷
内卷是一种在资源有限，且没有增量资源的情况下，整个社会对存量资源争夺加剧的一种社会现象。

资源有限，对资源的需求无限。
所以内卷出来之后出来一个词，就是躺平。我卷不动了肯定就躺了，我不想跟你争夺了，我就要躺平啊。
高校里的编制为什么那么困难，编制就是那么点有限的，争夺这些编制的人多着呢，他不提高要求的话怎么筛选啊。
只不过是因为时间的变化、社会的发展，对我们每个人的要求越来越高了。
鸡娃现象
是我们的内心不够坚定，被这种教育的洪流给带跑了。
幸福为什么那么难生物学家在解析幸福的时候是把这个问题指向动物和人类的身体机制的。生物学家举了一个例子：

大马哈鱼，溯江而上，产卵而死。我们身上的这种身体机制为了繁衍连母体的生命都可以牺牲，幸福怎么可以被称为重要的追求呢。

自然选择出的生理机制只是服务于人类生存的繁衍，根本就没有增加这种幸福快乐的考虑。然而,我们产生了一种错觉，就是我们小的时候很幸福呀。人类在幼儿阶段是最明显的一个动物性的阶段。 ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/posts/ec5acab6/" title="Kubernetes 集群部署最新版 Ingress-Nginx"><img class="post_bg" src="https://graph.linganmin.cn/210922/88f2bb6a988224d79d9f6cdf1edce170?x-oss-process=image/format,webp/quality,q_10" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Kubernetes 集群部署最新版 Ingress-Nginx"></a></div><div class="recent-post-info"><a class="article-title" href="/posts/ec5acab6/" title="Kubernetes 集群部署最新版 Ingress-Nginx">Kubernetes 集群部署最新版 Ingress-Nginx</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2021-09-22T14:40:34.000Z" title="发表于 2021-09-22 22:40:34">2021-09-22</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E4%BA%91%E5%8E%9F%E7%94%9F/">云原生</a></span></div><div class="content">简介
ingress-nginx 是 Kubernetes 的入口控制器，使用 Nginx 作为反向代理和负责均衡器。

如引用所写的那样，ingress-nginx 其实就是使用 Nginx 作为 Kubernetes 集群入口的反向代理和均衡器。对于 Nginx 我们应该都很熟悉，或者说至少不陌生。那么什么是ingress呢。
什么是 Ingress
Ingress 是对集群中服务的外部访问进行管理的 API 对象，典型的访问方式是 HTTP。Ingress 公开了从集群外部到集群内部服务的 HTTP 和 HTTPS 路由。流量路由由 Ingress 资源定义的规则控制。

下图是一个将所有流量发送到同一个 Service 的简单 Ingress 示例：

Ingress 资源和所有其他 Kubernetes 资源一样，Ingress 需要使用apiVersion、kind、metadata字段，Ingress 通常使用注解（annotations）来配置一些选项，具体取决于 Ingress 控制器，不同的 Ingress 控制器支持不同的注解。
Ingress 规约 提供了配置负 ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/posts/2d15ed93/" title="使用 Helm 在 Kubernetes 集群安装最新版 Traefik"><img class="post_bg" src="https://graph.linganmin.cn/210921/4ae58f0d7d8d8a33e91b55adb822dbdb?x-oss-process=image/format,webp/quality,q_10" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="使用 Helm 在 Kubernetes 集群安装最新版 Traefik"></a></div><div class="recent-post-info"><a class="article-title" href="/posts/2d15ed93/" title="使用 Helm 在 Kubernetes 集群安装最新版 Traefik">使用 Helm 在 Kubernetes 集群安装最新版 Traefik</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2021-09-20T16:40:34.000Z" title="发表于 2021-09-21 00:40:34">2021-09-21</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E4%BA%91%E5%8E%9F%E7%94%9F/">云原生</a></span></div><div class="content">简单介绍
Traefik 是一个开源的边缘路由器，他负责接收系统的请求，然后使用合适的组件对这些请求进行处理。

下图为 traefik 的架构图，traefik 的官方文档地址是：https://doc.traefik.io/traefik/

核心概念providersTraefik 中的配置发现是通过 Providers 实现的，Provider 可以是编排工具、容器引擎、或者 KV 存储等。

支持的 Providers 文档：https://doc.traefik.io/traefik/providers/overview/#supported-providers
entrypointsentrypoints 是 Traefik 的网络入口点，他们定义了将接收数据包的端口，以及侦听 TCP 还是 UDP。

配置文档参考：https://doc.traefik.io/traefik/routing/entrypoints/
routers路由器负责将传入请求连接到可以处理他们的服务，在这个过程中可能会使用中间件来更新请求，或者在将请求转发给服务之前做一些处理。

配置文档参考 ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/posts/e589412a/" title="Kubeadm 安装 Kubernetes V1.22.2 踩坑手记"><img class="post_bg" src="https://graph.linganmin.cn/210919/4e6c850efdc628e06f037a82d5d7b185?x-oss-process=image/format,webp/quality,q_10" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Kubeadm 安装 Kubernetes V1.22.2 踩坑手记"></a></div><div class="recent-post-info"><a class="article-title" href="/posts/e589412a/" title="Kubeadm 安装 Kubernetes V1.22.2 踩坑手记">Kubeadm 安装 Kubernetes V1.22.2 踩坑手记</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2021-09-19T16:40:34.000Z" title="发表于 2021-09-20 00:40:34">2021-09-20</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E4%BA%91%E5%8E%9F%E7%94%9F/">云原生</a></span></div><div class="content">记录一下最近在云服务器上折腾最新版 Kubernetes 遇到的一些坑。
使用 Docker 作为 Container Runtimecgroup 驱动
kubeadm 支持在执行kubeadm init时，传递一个KubeletConfiguration结构体，KubeletConfiguration结构体包含cgroupDriver字段，用于控制 kubelet 的 cgroup 驱动。

注意：如果没有在KubeletConfiguration中设置cgroupDriver字段，kubeadm init会将它设为默认值systemd。
Kubernetes 官方推荐使用systemd设为默认 cgroup 驱动。


特别注意：如果使用Docker作为容器运行时，Docker 默认的驱动类型为cgroupfs，需要修改成native.cgroupdriver=systemd。


编辑/etc/docker/daemon.json文件，修改 docker 的 cgroup 驱动类型
12345&#123;  &quot;exec-opts&quot;: [&quot;native ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/posts/4211b8f6/" title="上海居住证积分流程梳理"><img class="post_bg" src="https://graph.linganmin.cn/210602/bf37fd0bacd2349f2562b5290cb64bfc?x-oss-process=image/format,webp/quality,q_100" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="上海居住证积分流程梳理"></a></div><div class="recent-post-info"><a class="article-title" href="/posts/4211b8f6/" title="上海居住证积分流程梳理">上海居住证积分流程梳理</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2021-06-04T02:00:51.000Z" title="发表于 2021-06-04 10:00:51">2021-06-04</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E9%9A%8F%E7%AC%94/">随笔</a></span></div><div class="content">
因为一些不重要的原因最近在办上海居住证积分，顺便整理下流程，方便后面其他人可以参考。

居住证就是自己想办法办居住证（因为上海的房东嫌麻烦很少有愿意给办的，但总归有办法。）
积分办理1. 联系你司的相关人事专员，他会帮你通过公司名义在上海人力资源和社会保障公共服务平台上注册你的个人账号并告知你。2. 你通过该账号和对应密码登录上海人力资源和社会保障公共服务平台，然后填写几页个人信息（备注：这上面有两项住址信息，一个是户籍所在地也就是身份证上地址，一个是你办理的上海市居住证上的地址，务必一字不差填对）。
备注： 此处填写的个人经历，如果之前公司社保有代缴或者自己找的代缴，一定要填写实际代缴的公司信息，不然会被打回的（我就是遇到了这个问题！）。具体社保缴费记录可以参考这个链接查看明细：https://www.sohu.com/a/409435421_120209938

3. 填写完成后告知人事专员，让他帮看下有没有问题，有的话做修改。没问题他会告知你按照这个网址上的内容准备材料： http://jzzjf.rsj.sh.gov.cn/jzzjf/pingfen/bszn4.jsp 。因 ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/posts/b13ae59f/" title="Redis 知识梳理"><img class="post_bg" src="https://graph.linganmin.cn/210501/f9d5bf728f79544fde5f1e7afe4c0d91?x-oss-process=image/format,webp/quality,q_10" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Redis 知识梳理"></a></div><div class="recent-post-info"><a class="article-title" href="/posts/b13ae59f/" title="Redis 知识梳理">Redis 知识梳理</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2021-04-20T23:30:20.000Z" title="发表于 2021-04-21 07:30:20">2021-04-21</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/">数据库</a></span></div><div class="content">数据结构常用的五种类型

String
常用命令
get、set、incr、decr、mget


使用场景
key-value缓存
计数




Hash
redis hash 是一个String类型的field和value映射表。
常用命令
hget、hset、hgetall


使用场景
用户对象信息




List
list 是简单的字符串列表，我们可以在列表的头部或尾部插入元素。
实现方式
双向链表，redis的list的每个元素都是String类型的双向链表


常用命令
lpush（左进）、rpop（右出）、rpush（右进）、lpop（左出）、lrange（获取列表片段lrange key start end）


使用场景
粉丝列表
消息队列




Set
set 是String类型的无序集合，集合是通过hashtable实现的。与数学中的集合类似，redis 中的集合可以取交集、并集、差集等。因为set中的元素是没有顺序的，所以对 set 的添加、删除、查找的复杂度都是O(1)
实现方式
Set内部实现是一个 value 永远为 null 的HashMap。

 ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/posts/bc68ea96/" title="Kafka 知识梳理"><img class="post_bg" src="https://graph.linganmin.cn/210418/1ff08ddea3bcd783bd398cfa51aef556?x-oss-process=image/format,webp/quality,q_10" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Kafka 知识梳理"></a></div><div class="recent-post-info"><a class="article-title" href="/posts/bc68ea96/" title="Kafka 知识梳理">Kafka 知识梳理</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2021-04-17T23:30:20.000Z" title="发表于 2021-04-18 07:30:20">2021-04-18</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E6%B6%88%E6%81%AF%E9%98%9F%E5%88%97/">消息队列</a></span></div><div class="content">kafka 是一种高吞吐量，分布式，基于发布&#x2F;订阅的消息系统。
特点
吞吐量高、延迟低
每个topic可以支持consumer group(多个consumer)对partition进行操作


扩展性好
集群支持热扩展


持久性、可靠性好
消息数据是被持久化到本地磁盘的，并且支持数据备份


高并发
支持千级别客户端同时读写



核心概念
Broker
kafka 服务器，负责消息存储和转发


Topic
消息主题，用于分类消息


Partition
topic的分区（sharding）,每个topic可以有多个partition，对应topic的消息保存在这些partition上，单partition的消息是有序的。同一个topic的多个partition不保证有序。


Offset
消息在partition上的位置，也表示消息的唯一序号。


Producer
消息生产者


Consumer Group
消息消费者consumer的组



Controller BrokerKafka使用Zookeeper保存了集群的broker、topic、partiti ...</div></div></div><nav id="pagination"><div class="pagination"><a class="extend prev" rel="prev" href="/"><i class="fas fa-chevron-left fa-fw"></i></a><a class="page-number" href="/">1</a><span class="page-number current">2</span><a class="page-number" href="/page/3/#content-inner">3</a><span class="space">&hellip;</span><a class="page-number" href="/page/5/#content-inner">5</a><a class="extend next" rel="next" href="/page/3/#content-inner"><i class="fas fa-chevron-right fa-fw"></i></a></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="https://graph.linganmin.cn/200118/06177d8b92c66f2c3a6fd82cca544f51" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">安小下同学</div><div class="author-info__description"></div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">41</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">41</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">9</div></a></div><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/linganmin" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="mailto:saboranmin@gmail.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a><a class="social-icon" href="https://www.weibo.com/u/1793963601" target="_blank" title="Weibo"><i class="fab fa-weibo"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">来日方短、道阻且长；好好吃饭，好好睡觉、保重身体、好好生活，农历癸卯年快乐 ^_^</div></div><div class="sticky_layout"><div class="card-widget card-tags"><div class="item-headline"><i class="fas fa-tags"></i><span>标签</span></div><div class="card-tag-cloud"><a href="/tags/Channel/" style="font-size: 1.1em; color: #999">Channel</a> <a href="/tags/Consul/" style="font-size: 1.1em; color: #999">Consul</a> <a href="/tags/Deployment/" style="font-size: 1.1em; color: #999">Deployment</a> <a href="/tags/Docker/" style="font-size: 1.34em; color: #99a3b0">Docker</a> <a href="/tags/DockerCompose/" style="font-size: 1.18em; color: #999ca1">DockerCompose</a> <a href="/tags/DokerCompose/" style="font-size: 1.1em; color: #999">DokerCompose</a> <a href="/tags/Feed%E6%B5%81/" style="font-size: 1.1em; color: #999">Feed流</a> <a href="/tags/Fluent/" style="font-size: 1.18em; color: #999ca1">Fluent</a> <a href="/tags/GC/" style="font-size: 1.1em; color: #999">GC</a> <a href="/tags/GMP/" style="font-size: 1.1em; color: #999">GMP</a> <a href="/tags/Gin%E6%A1%86%E6%9E%B6/" style="font-size: 1.1em; color: #999">Gin框架</a> <a href="/tags/Golang/" style="font-size: 1.42em; color: #99a6b7">Golang</a> <a href="/tags/Goroutine/" style="font-size: 1.1em; color: #999">Goroutine</a> <a href="/tags/Grafana/" style="font-size: 1.1em; color: #999">Grafana</a> <a href="/tags/Helm/" style="font-size: 1.1em; color: #999">Helm</a> <a href="/tags/IPVS/" style="font-size: 1.1em; color: #999">IPVS</a> <a href="/tags/Ingress/" style="font-size: 1.1em; color: #999">Ingress</a> <a href="/tags/K8S%E6%8E%A2%E9%92%88/" style="font-size: 1.1em; color: #999">K8S探针</a> <a href="/tags/Kafka/" style="font-size: 1.1em; color: #999">Kafka</a> <a href="/tags/Kubeadm/" style="font-size: 1.18em; color: #999ca1">Kubeadm</a> <a href="/tags/Kubernetes/" style="font-size: 1.5em; color: #99a9bf">Kubernetes</a> <a href="/tags/MacOS/" style="font-size: 1.1em; color: #999">MacOS</a> <a href="/tags/MySQL/" style="font-size: 1.1em; color: #999">MySQL</a> <a href="/tags/Opentracing/" style="font-size: 1.1em; color: #999">Opentracing</a> <a href="/tags/POD/" style="font-size: 1.1em; color: #999">POD</a> <a href="/tags/Prometheus/" style="font-size: 1.18em; color: #999ca1">Prometheus</a> <a href="/tags/Redis/" style="font-size: 1.1em; color: #999">Redis</a> <a href="/tags/Traefik/" style="font-size: 1.1em; color: #999">Traefik</a> <a href="/tags/%E4%B8%80%E5%B9%B4%E5%8F%88%E4%B8%80%E5%B9%B4/" style="font-size: 1.26em; color: #999fa8">一年又一年</a> <a href="/tags/%E4%B8%87%E5%8D%B7%E4%B9%A6/" style="font-size: 1.18em; color: #999ca1">万卷书</a> <a href="/tags/%E4%B8%8A%E6%B5%B7/" style="font-size: 1.18em; color: #999ca1">上海</a> <a href="/tags/%E4%B8%AD%E9%97%B4%E4%BB%B6/" style="font-size: 1.26em; color: #999fa8">中间件</a> <a href="/tags/%E5%88%86%E5%B8%83%E5%BC%8F/" style="font-size: 1.1em; color: #999">分布式</a> <a href="/tags/%E5%A4%A7%E9%99%88%E5%B2%9B/" style="font-size: 1.1em; color: #999">大陈岛</a> <a href="/tags/%E6%91%84%E5%BD%B1/" style="font-size: 1.1em; color: #999">摄影</a> <a href="/tags/%E6%97%A5%E5%BF%97%E6%94%B6%E9%9B%86/" style="font-size: 1.26em; color: #999fa8">日志收集</a> <a href="/tags/%E6%9E%B8%E6%9D%9E%E5%B2%9B/" style="font-size: 1.1em; color: #999">枸杞岛</a> <a href="/tags/%E6%BA%90%E7%A0%81/" style="font-size: 1.1em; color: #999">源码</a> <a href="/tags/%E6%BB%9A%E5%8A%A8%E6%9B%B4%E6%96%B0/" style="font-size: 1.1em; color: #999">滚动更新</a> <a href="/tags/%E7%BD%91%E7%BB%9C/" style="font-size: 1.1em; color: #999">网络</a></div></div><div class="card-widget card-webinfo"><div class="item-headline"><i class="fas fa-chart-line"></i><span>网站资讯</span></div><div class="webinfo"><div class="webinfo-item"><div class="item-name">文章数目 :</div><div class="item-count">41</div></div><div class="webinfo-item"><div class="item-name">已运行时间 :</div><div class="item-count" id="runtimeshow" data-publishDate="2018-12-31T16:00:00.000Z"><i class="fa-solid fa-spinner fa-spin"></i></div></div><div class="webinfo-item"><div class="item-name">本站总字数 :</div><div class="item-count">51.2k</div></div><div class="webinfo-item"><div class="item-name">本站访客数 :</div><div class="item-count" id="busuanzi_value_site_uv"><i class="fa-solid fa-spinner fa-spin"></i></div></div><div class="webinfo-item"><div class="item-name">本站总访问量 :</div><div class="item-count" id="busuanzi_value_site_pv"><i class="fa-solid fa-spinner fa-spin"></i></div></div><div class="webinfo-item"><div class="item-name">最后更新时间 :</div><div class="item-count" id="last-push-date" data-lastPushDate="2023-07-24T01:22:53.014Z"><i class="fa-solid fa-spinner fa-spin"></i></div></div></div></div><div class="card-widget user-map" id="user-map"><div class="item-headline"><i class="fas fa-heartbeat"></i><span>访客地图</span></div><div class="item-content"><script type="text/javascript" id="clstr_globe" src="//clustrmaps.com/globe.js?d=a7gP3sFK2EWGUn4ldSm-DEYh1XLHHOKeuRBrF9Lf-g4"></script></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2019 - 2023 By 安小下同学</div><div class="footer_custom_text"><a target="_blank" rel="noopener" href="http://beian.miit.gov.cn/"><img style="height:10px" src="https://img.alicdn.com/imgextra/i3/O1CN012VJ8YA22JOP4XNnCr_!!6000000007099-2-tps-20-20.png">苏ICP备16006718号</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/pluginsSrc/medium-zoom/dist/medium-zoom.min.js"></script><div class="js-pjax"><script>function subtitleType () {
  if (true) { 
    window.typed = new Typed("#subtitle", {
      strings: ["诗和远方代替不了一日三餐，你的信念终究需要一个栖身之所。","好的生活应该是平静的生活，生活的理想就是理想的生活。","写代码，不含糖🍬"],
      startDelay: 300,
      typeSpeed: 150,
      loop: true,
      backSpeed: 50
    })
  } else {
    document.getElementById("subtitle").innerHTML = '诗和远方代替不了一日三餐，你的信念终究需要一个栖身之所。'
  }
}

if (true) {
  if (typeof Typed === 'function') {
    subtitleType()
  } else {
    getScript('/pluginsSrc/typed.js/lib/typed.min.js').then(subtitleType)
  }
} else {
  subtitleType()
}</script></div><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>